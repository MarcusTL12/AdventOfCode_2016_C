build_dir = build/release
c_flags = -stdlib=libc

rule cc
    command = clang -O3 -o $out -c $in

rule link
    command = clang $c_flags -o $out $in

build $build_dir/day1.o: cc ./src/day1.c
build $build_dir/main.o: cc ./src/main.c

build a.out: link $
    $build_dir/day1.o $
    $build_dir/main.o
